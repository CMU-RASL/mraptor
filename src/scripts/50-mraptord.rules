polkit.addRule(function(action, subject) {
	polkit.log("DBG id=" + action.id +
             " unit=" + action.lookup("unit") +
             " verb=" + action.lookup("verb") +
             " user=" + subject.user +
             " in_robocept=" + subject.isInGroup("robocept"));

  if (!subject.isInGroup("robocept") return;

  if (action.id != "org.freedesktop.systemd1.manage-units") {
    var unit = action.lookup("unit");
    var verb = action.lookup("verb");   // "start", "stop", "restart", "reload"
    if ((unit == "mraptord.service" || unit == "ipc.service") &&
        (verb == "stop" || verb == "start" || verb == "restart")) {
      return polkit.Result.YES;         // allow without authentication
    }
  }
});

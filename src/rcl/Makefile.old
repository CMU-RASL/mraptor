#!gmake 	# Tell emacs about this file: -*- Makefile -*-  
# $Id: Makefile,v 1.4 2003/03/28 17:38:15 trey Exp $
#
# PROJECT:      FIRE Architecture Project
# DESCRIPTION:  

######################################################################
# DO NOT MODIFY THIS HEADER SECTION

CHECKOUTDIR := $(shell pwd | perl -e '$$stem = ""; for (1..5) { $$dir = $$stem."src"; if (-d $$dir) { chop $$stem; print "$$stem"; exit 0; } $$stem = "../$$stem"; } print "*** COULD NOT FIND CHECKOUT DIR ***";')
MAKERULESDIR := ../Makerules
include $(MAKERULESDIR)/Makefile.head

##############################################################################
###                     BEGIN MODIFICATIONS BELOW!!!
###     Use   "make Makefile.template.full"   to obtain an annotated template
##############################################################################

# special rules for building the parser

YACC     := bison
YFLAGS   := --defines
LEX      := flex
LEXFLAGS := -f -Ca

# the second line here fixes a really annoying output naming inconsistency
# between bison 1.28 and bison 1.75
%.tab.cc %.tab.hh: %.y
	$(YACC) $(YFLAGS) $< -o $*.tab.cc
	-mv -f $*.tab.cc.h $*.tab.hh

%.yy.cc: %.l %.tab.hh
	$(LEX) $(LEXFLAGS) -o$@ $<

# RCLGrammar.yy RCLGrammar.tab
SUBDIRS =
HEADERS = RCL.h RCLTypes.h RCLException.h RCLExp.h RCLHash.h RCLVector.h \
    RCLParser.h RCLConfigFile.h
LIBSRCS = RCLParser.cc RCLTypes.cc RCLExp.cc RCLHash.cc RCLVector.cc \
   RCLConfigFile.cc RCLGrammar.yy.cc RCLGrammar.tab.cc strxcpy.c
LIBNAME = librcl.a
BINSRCS = testRCL.cc
LOCALBINSRCS =
SCRIPTS = 
MANPAGES =
WEBPAGES =
ALL_SRC_FILES = $(LIBSRCS) $(BINSRCS) $(LOCALBINSRCS)
EXTRA_FILES_TO_CLEAN = *.tab.cc{,.h} *.yy.cc
LIBRARIES =

###  Enter any binary-specific library dependencies like this:
# LIBRARIES_pre_$(BDIR)/____$(BSUF) = -lX11

include $(MAKERULESDIR)/Makefile.middle

##############################################################################
###  List all binary dependencies here
###  e.g., $(BDIR)/____$(BINSUF):  $(ODIR)/____.o $(LIB)

$(BDIR)/testRCL$(BINSUF): $(ODIR)/testRCL.o $(LIB)

# ADD ANY SUBDIRS THAT NEED TO BE VISITED DURING A BUILD TO THE SUBDIRS LIST
SUBDIRS := 

######################################################################
# $Log: Makefile,v $
# Revision 1.4  2003/03/28 17:38:15  trey
# rearranged locations of files so that the atacama project can use rcl without causing namespace conflicts
#
# Revision 1.3  2003/02/17 22:08:31  trey
# incorporated bsellner fixes to RCL in such a way that it compiles under both bison 1.28 and 1.75
#
# Revision 1.2  2003/02/05 22:50:51  trey
# mostly ready for mraptor now
#
# Revision 1.1  2003/02/05 03:57:54  trey
# initial atacama check-in
#
#



